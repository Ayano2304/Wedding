<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React</title>
  </head>
  <body>
    <div id="root"></div>
    <div id="audio-container">
      <audio id="song" autoplay loop>
        <source src="./src/assets/audio/BGM.mp3" type="audio/mp3" />
      </audio>

      <div class="audio-icon-wrapper" style="display: none">
        <i class="ri-disc-fill"></i>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      const rootElement = document.querySelector(":root");
      const adioIcon = document.querySelector(".audio-icon-wrapper");
      const Song = document.querySelector("#song");
      const iconKaset = document.querySelector(".audio-icon-wrapper i");
      let isPlaying = false;
      function disableScroll() {
        scrollTop = window.scrollX || document.documentElement.scrollTop;
        scrollLeft = window.scrollY || document.documentElement.scrollLeft;

        window.onscroll = function () {
          window.scrollTo(scrollTop, scrollLeft);
        };
        rootElement.style.scrollBehavior = "auto";
      }

      function enableScroll() {
        window.onscroll = function () {};
        rootElement.style.scrollBehavior = "smooth";
        playAudio();
        // localStorage.setItem('terbuka','true');
      }

      function playAudio() {
        Song.volume = 0.2;
        adioIcon.style.display = "flex";
        isPlaying = true;
        Song.play();
      }

      adioIcon.addEventListener("click", () => {
        if (isPlaying) {
          Song.pause();
          iconKaset.classList.remove("ri-disc-fill");
          iconKaset.classList.add("ri-pause-circle-fill");
        } else {
          song.play();
          iconKaset.classList.add("ri-disc-fill");
          iconKaset.classList.remove("ri-pause-circle-fill");
        }

        isPlaying = !isPlaying;
      });

      disableScroll();
    </script>
  </body>
</html>
